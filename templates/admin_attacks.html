<!DOCTYPE html><html lang="en" class="dark"><head>
    {{template "tailwind_config"}}<title>Admin | TITAN</title><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><script src="https://cdn.tailwindcss.com"></script><script src="//unpkg.com/alpinejs" defer></script><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet"><style>body{background:#020203;color:#EAEAEB;font-family:'Inter',sans-serif}.glass-panel{background:rgba(15,15,20,0.8);backdrop-filter:blur(30px);border:1px solid rgba(255,255,255,0.05)}.glass-input{background:rgba(0,0,0,0.4);border:1px solid rgba(255,255,255,0.1);color:white}.glass-input:focus{border-color:rgba(99,102,241,0.5);outline:none}.glass-btn{background:rgba(255,255,255,0.05);border:1px solid rgba(255,255,255,0.1);color:white;transition:0.2s}.glass-btn:hover{background:rgba(255,255,255,0.1)}.admin-nav-item{padding:0.75rem 1rem;color:#6b7280;font-weight:600;font-size:0.85rem;border-radius:0.5rem;transition:all 0.2s;display:flex;align-items:center;gap:0.75rem;cursor:pointer;text-decoration:none}.admin-nav-item:hover{color:white;background:rgba(255,255,255,0.05)}.admin-nav-item.active{background:rgba(99,102,241,0.1);color:#818cf8;border:1px solid rgba(99,102,241,0.2)}.status-badge{font-size:0.65rem;padding:2px 6px;border-radius:4px;font-weight:bold;text-transform:uppercase}.status-active{background:rgba(16,185,129,0.1);color:#34d399;border:1px solid rgba(16,185,129,0.2)}.status-pending{background:rgba(251,191,36,0.1);color:#fbbf24;border:1px solid rgba(251,191,36,0.2)}.status-banned{background:rgba(239,68,68,0.1);color:#ef4444;border:1px solid rgba(239,68,68,0.2)}.scrollbar-hide::-webkit-scrollbar{display:none}</style>    {{template "style"}}
</head><body class="flex h-screen overflow-hidden">
    <div class="w-64 border-r border-white/5 flex flex-col bg-[#050505]"><div class="p-6"><h1 class="text-xl font-black text-white tracking-wider flex items-center gap-2"><div class="w-2 h-2 bg-red-500 rounded-full animate-pulse"></div> GODMODE</h1></div><nav class="flex-1 px-4 space-y-1"><a href="/admin/dashboard" class="admin-nav-item {{if eq . "overview"}}active{{end}}">Overview</a><a href="/admin/users" class="admin-nav-item {{if eq . "users"}}active{{end}}">Users</a><a href="/admin/finance" class="admin-nav-item {{if eq . "finance"}}active{{end}}">Finance</a><a href="/admin/attacks" class="admin-nav-item active{{else if eq "attacks" "attacks"}}active{{end}}">Attacks</a><a href="/admin/market" class="admin-nav-item {{if eq . "market"}}active{{end}}">Market</a><a href="/admin/blacklist" class="admin-nav-item {{if eq . "blacklist"}}active{{end}}">Blacklist</a><a href="/admin/methods" class="admin-nav-item {{if eq . "methods"}}active{{end}}">Methods</a><a href="/support" class="admin-nav-item">Support</a><div class="pt-4 text-[10px] font-bold text-gray-600 uppercase px-3 mb-2">System</div><a href="/admin/settings" class="admin-nav-item {{if eq . "settings"}}active{{end}}">Config</a><a href="/dashboard" class="admin-nav-item mt-8 bg-white/5 border border-white/5 text-white justify-center">Exit to User</a></nav></div><main class="flex-1 overflow-y-auto bg-[#020203] p-8">
        <div class="flex justify-between items-center mb-6">
            <h2 class="text-2xl font-bold text-white">Live Network Stress</h2>
            <button onclick="stopAll()" class="bg-red-500/20 text-red-400 px-4 py-2 rounded-lg text-xs font-bold hover:bg-red-500 hover:text-white transition">EMERGENCY STOP ALL (GLOBAL)</button>
        </div>
        <div class="glass-panel rounded-xl p-6">
            <table class="w-full text-left text-xs">
                <thead class="text-gray-500 font-bold uppercase"><tr class="border-b border-white/5"><th class="py-2">User</th><th class="py-2">Target</th><th class="py-2">Method</th><th class="py-2">Expires</th><th class="py-2 text-right">Action</th></tr></thead>
                <tbody id="admin-attack-table" class="text-gray-300 font-mono"></tbody>
            </table>
        </div>
    </main>
    <script>
    const csrfToken = "{{.CsrfToken}}";
    async function update() {
        try {
            const res = await fetch('/api/attack/list');
            const attacks = await res.json();
            const tbody = document.getElementById('admin-attack-table');
            tbody.innerHTML = '';
            attacks.forEach(a => {
                const diff = Math.floor((new Date(a.EndTime) - new Date()) / 1000);
                if (diff > 0) tbody.innerHTML += `<tr class="border-b border-white/5 hover:bg-white/5"><td class="py-3 text-indigo-400 font-bold">${a.UserID}</td><td class="py-3 text-white">${a.Target}</td><td class="py-3 text-gray-400">${a.Method}</td><td class="py-3 text-green-400 font-bold">${diff}s</td><td class="py-3 text-right"><button onclick="fetch('/api/attack/stop', {method:'POST', headers:{'Content-Type':'application/x-www-form-urlencoded','X-CSRF-Token': csrfToken}, body:'id=' + encodeURIComponent(a.ID)})" class="text-red-400 hover:text-white bg-red-500/10 px-2 py-1 rounded border border-red-500/20">KILL</button></td></tr>`;
            });
            if(attacks.length===0) tbody.innerHTML = '<tr><td colspan="5" class="py-4 text-center text-gray-600">No attacks running.</td></tr>';
        } catch(e){}
    }
    function stopAll() { fetch('/api/attack/stopAll', {method:'POST', headers:{'X-CSRF-Token': csrfToken}}); update(); }
    setInterval(update, 1000); update();
    </script></body></html>
